"use strict";var _createClass=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var SplittedText=function(){function t(e){_classCallCheck(this,t),this.node=e}return _createClass(t,[{key:"resetAttr",value:function(){this.node.removeAttribute("id"),this.node.removeAttribute("class")}},{key:"buildDOM",value:function(){this.node.removeChild(this.node.querySelector("h1"));var e=this.node.getAttribute("class");this.resetAttr();var t=/init_\w*/;if(e.match(t)){var r=e.match(t)[0].split("_").pop();this.node.classList.add(r.toLowerCase())}else this.node.classList.add("right");this.node.classList.add("splitted-text")}}]),t}(),splittedTexts=Array.from(document.querySelectorAll("[id^=splitted]"));splittedTexts.forEach(function(e){return new SplittedText(e).buildDOM()});var Banner=function(){function t(e){_classCallCheck(this,t),this.node=e}return _createClass(t,[{key:"resetAttr",value:function(e){e.removeAttribute("id"),e.removeAttribute("class")}},{key:"textToDOM",value:function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerHTML}},{key:"mapBgColor",value:function(e){var t=/bg_\w*/;if(e.match(t)){var r=e.match(t)[0].split("_").pop();this.css("backgroundColor","#"+r)}}},{key:"mapBannerSize",value:function(e){var t=/size_\w*/;if(e.match(t)){var r=e.match(t)[0].split("_").pop();this.addToClassList(this.node,r+"-section")}}},{key:"css",value:function(e,t){this.node.style[e]=t}},{key:"addToClassList",value:function(t){for(var e=arguments.length,r=Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach(function(e){return t.classList.add(e)})}},{key:"buildDOM",value:function(){var r=this;this.node.removeChild(this.node.querySelector("h1"));var e=this.node.getAttribute("class");this.resetAttr(this.node);if(this.mapBgColor(e),this.mapBannerSize(e),e.match(/single/)){this.addToClassList(this.node,"column","centered");var t=this.node.querySelector(".level2").querySelector("h2").textContent,n=this.node.querySelector(".level3").querySelector("h3").textContent,s=this.node.querySelector("a").outerHTML;if(this.node.querySelector("img")){var i=this.node.querySelector("img").getAttribute("src");this.css("background","url("+i+") no-repeat center center"),this.css("backgroundSize","cover")}var o="\n        "+(t?"<h1>"+t+"</h1>":"")+"\n        "+(n?"<h3>"+n+"</h3>":"")+"\n        "+(s?""+s:"")+"\n      ";this.node.innerHTML=this.textToDOM(o)}else e.match(/multi/)&&(this.addToClassList(this.node,"grid"),Array.from(this.node.querySelectorAll("[class*=col]")).forEach(function(e){var t=e.getAttribute("class").match(/col-\w*/)[0];r.resetAttr(e),r.addToClassList(e,"column","centered",t)}))}}]),t}(),banners=Array.from(document.querySelectorAll("[id^=banner]"));banners.forEach(function(e){return new Banner(e).buildDOM()});